{"version":3,"file":"IndexController.js","sourceRoot":"src/","sources":["controllers/pages/IndexController.ts"],"names":[],"mappings":";;;;AAAA,iCAA8C;AAC9C,2DAAmD;AACnD,yDAA0C;AAE1C,yCAAkD;AAI3C,IAAM,eAAe,GAArB,MAAM,eAAe;IAElB,OAAO,CAAoB;IAKnC,GAAG,CAAoC,QAAgB,EAAwB,IAAY;QACzF,MAAM,OAAO,GAAG,GAAG,QAAQ,IAAI,MAAM,MAAM,IAAI,EAAE,CAAC;QAElD,OAAO;YACL,QAAQ,EAAE,OAAO;YACjB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC9B,OAAO;oBACL,GAAG,EAAE,OAAO,GAAG,IAAI,CAAC,IAAI;oBACxB,GAAG,IAAI;iBACR,CAAC;YACJ,CAAC,CAAC;SACH,CAAC;IACJ,CAAC;CACF,CAAA;AApBY,0CAAe;AAElB;IADP,IAAA,aAAQ,EAAC,SAAS,CAAC;;gDACe;AAKnC;IAHC,IAAA,YAAG,EAAC,GAAG,CAAC;IACR,IAAA,qBAAI,EAAC,aAAa,CAAC;IACnB,CAAC,IAAA,gBAAO,EAAC,GAAG,EAAE,MAAM,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IAC3C,mBAAA,IAAA,8BAAY,EAAC,mBAAmB,CAAC,CAAA;IAAoB,mBAAA,IAAA,8BAAY,EAAC,MAAM,CAAC,CAAA;;;;0CAY7E;0BAnBU,eAAe;IAF3B,IAAA,eAAM,GAAE;IACR,IAAA,eAAU,EAAC,GAAG,CAAC;GACH,eAAe,CAoB3B","sourcesContent":["import {Constant, Controller} from \"@tsed/di\";\nimport {HeaderParams} from \"@tsed/platform-params\";\nimport {View} from \"@tsed/platform-views\";\nimport {SwaggerSettings} from \"@tsed/swagger\";\nimport {Hidden, Get, Returns} from \"@tsed/schema\";\n\n@Hidden()\n@Controller(\"/\")\nexport class IndexController {\n  @Constant(\"swagger\")\n  private swagger: SwaggerSettings[];\n\n  @Get(\"/\")\n  @View(\"swagger.ejs\")\n  @(Returns(200, String).ContentType(\"text/html\"))\n  get(@HeaderParams(\"x-forwarded-proto\") protocol: string, @HeaderParams(\"host\") host: string) {\n    const hostUrl = `${protocol || \"http\"}://${host}`;\n\n    return {\n      BASE_URL: hostUrl,\n      docs: this.swagger.map((conf) => {\n        return {\n          url: hostUrl + conf.path,\n          ...conf\n        };\n      })\n    };\n  }\n}\n"]}