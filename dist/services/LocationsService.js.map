{"version":3,"file":"LocationsService.js","sourceRoot":"src/","sources":["services/LocationsService.ts"],"names":[],"mappings":";;;;AAAA,iCAA4C;AAG5C,2EAAyE;AACzE,qCAAiE;AAE1D,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IAEd,YAAY,CAAsB;IAE7C,KAAK,CAAC,cAAc,CAAC,IAAQ;QACzB,OAAO,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9C,CAAC;IACD,KAAK,CAAC,YAAY,CAAC,SAAa,EAAC,SAAa,EAAC,QAAe;QAC1D,OAAO,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YAChC,KAAK,EAAE;gBACL,QAAQ,EAAE,IAAA,iBAAO,EAAC,SAAS,CAAC,QAAQ,EAAE,SAAS,CAAC,QAAQ,CAAC;gBACzD,SAAS,EAAE,IAAA,iBAAO,EAAC,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,SAAS,CAAC;gBAC5D,QAAQ,EAAE,IAAA,eAAK,EAAC,IAAI,QAAQ,GAAG,CAAC;aACjC;SACF,CAAC,CAAC;IACT,CAAC;CACJ,CAAA;AAhBY,4CAAgB;AAEd;IADV,IAAA,WAAM,EAAC,wCAAmB,CAAC;;sDACiB;2BAFpC,gBAAgB;IAD5B,IAAA,eAAU,GAAE;GACA,gBAAgB,CAgB5B","sourcesContent":["import {Inject, Injectable} from \"@tsed/di\";\nimport { MARIADB_DATA_SOURCE } from \"../datasources/MariadbDatasource\";\nimport { MapLocation } from \"../entities/location\";\nimport { LOCATION_REPOSITORY } from \"../repositories/LocationRepository\";\nimport { Between, DataSource, ILike, Repository } from \"typeorm\";\n@Injectable()\nexport class LocationsService {\n    @Inject(LOCATION_REPOSITORY)\n    protected  locationRepo: LOCATION_REPOSITORY;\n    \n    async createLocation(data:any){\n        return await this.locationRepo.save(data); \n    }\n    async getLocations(northeast:any,southwest:any,category:string){\n        return await this.locationRepo.find({\n            where: {\n              latitude: Between(southwest.latitude, northeast.latitude),\n              longitude: Between(southwest.longitude, northeast.longitude),\n              category: ILike(`%${category}%`)\n            },\n          });\n    }\n}\n"]}